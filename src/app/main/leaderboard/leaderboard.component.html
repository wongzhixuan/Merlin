<app-header [back]="true"></app-header>
<ion-content>
  <div class="titleContainer">
    <label class="font bold header-3 titleText">Leaderboard</label>
    <!-- <ion-button
      fill="clear"
      mode="ios"
      shape="round"
      size="small"
      color="medium"
      (click)="onShowFilter()"
    >
      <ion-icon name="filter-outline" slot="icon-only"> </ion-icon>
    </ion-button> -->
    <ion-button
      fill="clear"
      mode="ios"
      shape="round"
      size="small"
      color="medium"
      (click)="onRefresh()"
    >
      <ion-icon name="refresh-outline" slot="icon-only"> </ion-icon>
    </ion-button>
  </div>
  <!-- <ion-segment value="a" mode="md" (ionChange)="onChangeSegment($event)">
  <ion-segment-button value="a">
    <ion-label>Assigned</ion-label>
  </ion-segment-button>
  <ion-segment-button value="c">
    <ion-label>Completed</ion-label>
  </ion-segment-button>
</ion-segment> -->
  <!-- <div class="ion-margin-start ion-margin-end">
    <ion-item
      fill="outline"
      mode="md"
      class="font content-2 margin-top-1"
      lines="none"
      (click)="select.open()"
      *ngIf="showFilter"
    >
      <app-searchable-selectable
        title="My Courses"
        [data]="this.myCourses"
        [multiple]="false"
        #select
        itemTextField="courseName"
        itemAccessField="courseName"
        (selectedChanged)="onSelectFilter($event)"
        [icon]="false"
        [selectedData]="selectedFilter"
        defaultText="All Courses"
      ></app-searchable-selectable>
    </ion-item>
    <ion-button (click)="onReset()" fill="clear" mode="ios" *ngIf="showFilter"
      >Reset</ion-button
    >
  </div> -->
  <ion-grid class="ion-no-margin ion-margin-bottom">
    <ion-row>
      <ion-col size="12">
        <ion-list *ngIf="!isLoading; else loading">
          <ion-item
            *ngFor="let each of userList; let i = index"
            detail="true"
            button
            lines="none"
            class="Card font"
            (click)="onUserClick(each)"
            ><img [src]="each.imageUrl !== '' ? each.imageUrl : default" class="avatar"/>
            <ion-label
              ><h3 class="font bold">{{ each.username }}</h3>
              <p class="font">{{ each.points + " points" }}</p></ion-label
            >
            <ion-avatar *ngIf="i === 0" class="crown"><img [src]="gold"/></ion-avatar>
          <ion-avatar *ngIf="i === 1" class="crown"><img [src]="silver"/></ion-avatar>
          <ion-avatar *ngIf="i === 2" class="crown"><img [src]="bronze"/></ion-avatar></ion-item
          ></ion-list
        >
      </ion-col>
    </ion-row>
  </ion-grid>
  <ng-template #loading>
    <ion-list>
      <ion-item
        lines="none"
        detail="true"
        class="Card font"
        *ngFor="let e of [].constructor(3); let i = index"
      >
        <ion-avatar slot="start">
          <ion-skeleton-text animated></ion-skeleton-text> </ion-avatar
        ><ion-label
          ><h3 class="font bold">
            <ion-skeleton-text animated style="width: 50%"></ion-skeleton-text>
          </h3>
          <p class="font">
            <ion-skeleton-text
              animated
              style="width: 50%"
            ></ion-skeleton-text></p
        ></ion-label>
      </ion-item>
    </ion-list>
  </ng-template>
</ion-content>
